<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat HP Builder - Claude Code</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <!-- ヘッダー -->
    <header class="header">
      <h1>Chat HP Builder</h1>
      <div class="session-info">
        <span id="session-status">Session: <span id="session-id">Not started</span></span>
        <button id="new-session-btn" class="btn btn-secondary" style="display: none;">New Session</button>
      </div>
    </header>

    <!-- メインコンテンツ -->
    <div class="main-content">
      <!-- チャットパネル -->
      <div class="chat-panel">
        <div class="chat-header">
          <h2>Chat with Claude Code</h2>
          <button id="clear-chat-btn" class="btn btn-sm">Clear</button>
        </div>

        <div class="chat-messages" id="chat-messages">
          <div class="welcome-message">
            <h3>👋 Welcome to Chat HP Builder</h3>
            <p>事業内容を入力するだけで、Claude Codeが自動的にホームページを3パターン作成します。</p>
            <div class="example-prompts">
              <p><strong>入力例:</strong></p>
              <div class="example-format">
                <pre># 株式会社ガイア

## 事業内容
- 不動産事業
- 建築工事設計
- 広告看板事業

## 会社概要
- 会社住所: 熊本県熊本市中央区...
- 設立日: 平成25年11月1日
...</pre>
              </div>
              <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                💡 ヒント: Markdown形式で会社名、事業内容、会社概要などを入力してください。<br>
                PROMPT_TEMPLATE_FOR_BUILDER.md（デプロイ不要版）は自動的に適用されます。
              </p>
              <button class="example-btn" data-prompt="# 株式会社ガイア&#10;&#10;## VALUE CREATION&#10;### 価値創造&#10;&#10;## 事業の目的&#10;- 不動産事業&#10;- 建築の工事設計&#10;- 広告看板事業&#10;&#10;## 会社概要&#10;**Gaiya LLC**  &#10;**合同会社ガイア**&#10;&#10;- **資本金**: 200万円&#10;- **会社住所**: 熊本県熊本市中央区帯山５丁目３８番２５号&#10;- **設立日**: 平成25年１１月１日">📄 サンプルを読み込む（Gaia LLC）</button>
            </div>
          </div>
        </div>

        <div class="chat-input-area">
          <textarea
            id="chat-input"
            placeholder="事業内容をMarkdown形式で入力してください...&#10;&#10;例:&#10;# 会社名&#10;&#10;## 事業内容&#10;- 事業1&#10;- 事業2&#10;&#10;## 会社概要&#10;..."
            rows="5"
          ></textarea>
          <button id="send-btn" class="btn btn-primary">
            <span class="btn-text">Send</span>
            <span class="btn-loading" style="display: none;">Processing...</span>
          </button>
        </div>
      </div>

      <!-- プレビューパネル -->
      <div class="preview-panel">
        <div class="preview-header">
          <h2>Preview</h2>
          <div class="preview-controls">
            <select id="pattern-select" style="display: none;">
              <option value="index.html">Pattern A (index)</option>
              <option value="pattern-a.html">Pattern A</option>
              <option value="pattern-b.html">Pattern B</option>
              <option value="pattern-c.html">Pattern C</option>
            </select>
            <button id="refresh-preview-btn" class="btn btn-sm" style="display: none;">
              Refresh
            </button>
            <button id="open-new-tab-btn" class="btn btn-sm" style="display: none;">
              Open in New Tab
            </button>
          </div>
        </div>

        <div class="preview-container" id="preview-container">
          <div class="preview-placeholder">
            <div class="placeholder-content">
              <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="9" y1="3" x2="9" y2="21"></line>
              </svg>
              <p>Preview will appear here</p>
              <p class="placeholder-hint">Send a message to generate a homepage</p>
            </div>
          </div>
          <iframe id="preview-iframe" style="display: none;"></iframe>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
